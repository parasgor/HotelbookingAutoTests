Java CucmberAutomation tests
 
 [![Build Status](https://travis-ci.com/iljapavlovs/cucumber-jvm-parallel-template.svg?branch=master)](https://travis-ci.com/iljapavlovs/cucumber-jvm-parallel-template)
=======================

Test the hotel booking application 


## How to run
### Command for execution
```
1) if running locally  
./mvnw clean verify -P nogrid  -Dbrowser=chrome

make sure disable the property values in com.hotelbooking.config.ApplicationProperties.java
setProperty(ApplicationProperty.REMOTE_DRIVER.name, "false");

2) if runing using selenium docker 

2a) docker-compose -f docker/seleniumgrid/docker-compose-selenium.yml up
Verify the grid started locally on http://localhost:4444/grid/console

2b)  change the value in property file - 
setProperty(ApplicationProperty.REMOTE_DRIVER.name, "true");

2c) execute the  ./mvnw clean verify -P grid -Dbrowser=chrome

 
```

## Configuration
Following settings can be changed in `com.hotelbooking.config.ApplicationProperties.java` or overriden by from command line by providing `-D{configuration key}={value}` 

| Configuration key     | Description                                                       |
|-----------------------|----------------------|
| *env*   | environment name |_
| *appUrl*       | AUT URL                 |
| *browser*     | Browser to use. Available options - `chrome, firefox, safari, edge, ie, chrome_headless, firefox_headless`                  |
| *proxyEnabled*    | is proxy enabled for Selenium (boolean) |
| *proxyHost* | proxy host                     |
| *proxyPort* | proxy port                    |
| *remoteDriver*  | should tests be executed on Selenium Grid (boolean)                       |
| *seleniumGridRetries* | RemoteWebdriver initialization retry count                |
| *seleniumGridUrl*     | Selenium Grid Hub URL                 |
| *waitShortSeconds*    | timeout for explicit wait - shortest timeout |
| *waitNormalSeconds* | timeout for explicit wait - average timeout                     |
| *waitLongSeconds* | timeout for explicit wait - longest timeout                      |


## Reporting
Reports are generated by [maven-cucumber-reporting](https://github.com/damianszczepanik/maven-cucumber-reporting) plugin and can be found under *target/site/cucumber-reports/cucumber-html-reports*

## Setting up Selenium Grid in Docker Containers

#### Selenium

```
docker-compose -f docker/seleniumgrid/docker-compose-selenium.yml up
```

##### Scaling
```
cd docker/seleniumgrid/
docker-compose scale selenium-hub=1 firefox=5 chrome=5 
```